(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{109:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var r,c,a=n(31),i=n(33),s=n(7),o=n(16),l=n.n(o),j=n(42),d=n(0),u=n.n(d),b=n(23),h=n(30),O=n(19),v=n(18),m=n(20),x=n(43),p=n(3),f=Object(x.a)(b.a)(r||(r=Object(j.a)([" \n  min-height: 100vh;\n  min-width: 100vw;\n  "]))),g=function(e){var t=e.movieList,n=e.getMovieList,r=e.removeMovieFromList;return Object(d.useEffect)((function(){n()}),[n]),Object(p.jsxs)(f,{className:"bg-dark",children:[Object(p.jsx)("h1",{children:"My Movie List"}),Object(p.jsx)(h.a,{children:t&&t.list&&t.list.map((function(e){return Object(p.jsx)(O.a,{xs:12,md:6,lg:3,children:Object(p.jsxs)(v.a,{bg:"dark",border:"light",text:"light",children:[Object(p.jsx)(v.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(p.jsxs)(v.a.Body,{children:[Object(p.jsx)(v.a.Title,{children:e.Title}),Object(p.jsx)(m.a,{variant:"primary",onClick:function(){return r(e)},children:"Remove From List"})]})]})},e.imdbID)}))})]})},y=g=Object(a.b)((function(e){return{movieList:e.movieListReducer}}),{getMovieList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"list";return{type:"GET_MOVIE_LIST",payload:e}},removeMovieFromList:function(e){return{type:"REMOVE_MOVIE_FROM_LIST",payload:e}}})(g),I=(n(89),n(28)),S=n.n(I),M=n(37),T=n(34),L=n(35),w=function(e){var t=e.show,n=e.children,r=e.handleClose;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(L.a,{show:t,onHide:r,children:[Object(p.jsx)(L.a.Header,{children:Object(p.jsx)(L.a.Title,{children:"Movie Details"})}),Object(p.jsxs)(L.a.Body,{children:[" ",n," "]}),Object(p.jsx)(L.a.Footer,{children:Object(p.jsx)(m.a,{variant:"danger",onClick:r,children:"Close"})})]})})},k=n(74),D=n(75),E=n(56),N=n.n(E),_="b1114fdf",R=function(){function e(){Object(k.a)(this,e)}return Object(D.a)(e,[{key:"getMoviesByTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return N.a.get("https://www.omdbapi.com/?s=".concat(e,"&page=").concat(t,"&apikey=").concat(_)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getMovieById",value:function(e){return N.a.get("https://www.omdbapi.com/?i=".concat(e,"&apikey=").concat(_)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),B=n(59),C=function(e){var t=e.onSearch,n=e.setTitle;return Object(p.jsx)(b.a,{children:Object(p.jsx)(B.a,{inline:!0,onSubmit:function(e){t(),e.preventDefault()},children:Object(p.jsxs)(h.a,{children:[Object(p.jsx)(O.a,{sm:9,children:Object(p.jsx)(B.a.Control,{type:"text",id:"movieTitle",name:"movieTitle",placeholder:"Search\xa0for\xa0a\xa0movie\xa0or\xa0show!",onChange:function(e){return n(e.target.value)},required:!0})}),Object(p.jsx)(O.a,{sm:3,children:Object(p.jsx)(m.a,{type:"submit",className:"SearchBarButton",children:"Search"})})]})})})},V=(n(109),function(e){var t=e.id,n=Object(d.useState)(),r=Object(T.a)(n,2),c=r[0],a=r[1],i=new R;Object(d.useEffect)((function(){s(t)}));var s=function(){var e=Object(M.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getMovieById(t);case 2:n=e.sent,a(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{src:c.Poster,alt:"".concat(c.Title," poster")}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{children:c.Title}),Object(p.jsx)("span",{className:"Rating",children:c.imdbRating})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{className:"Rated",children:c.Rated}),Object(p.jsx)("span",{className:"Runtime",children:c.Runtime}),Object(p.jsx)("span",{className:"Genre",children:c.Genre})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{className:"PlotHeader",children:"Plot"}),Object(p.jsxs)("span",{className:"Plot",children:[" ",c.Plot," "]})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h4",{className:"ActorsHeader",children:"Actors"}),Object(p.jsxs)("span",{className:"Actors",children:[" ",c.Actors," "]})]})]})]}):Object(p.jsx)("h2",{children:"Loading..."})}),A=Object(x.a)(b.a)(c||(c=Object(j.a)([" \n  min-height: 100vh;\n  min-width: 100vw;\n  "]))),F=function(e){var t=e.addMovieToList,n=new R,r=Object(d.useState)(),c=Object(T.a)(r,2),a=c[0],i=c[1],s=Object(d.useState)(),o=Object(T.a)(s,2),l=o[0],j=o[1],u=Object(d.useState)(),b=Object(T.a)(u,2),x=b[0],f=b[1],g=function(){var e=Object(M.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMoviesByTitle(a);case 2:t=e.sent,f(t.Search);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(M.a)(S.a.mark((function e(r){var c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getMovieById(r);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){return j(null)};return Object(p.jsxs)(A,{className:"bg-dark",children:[Object(p.jsx)(C,{onSearch:g,setTitle:i}),Object(p.jsx)(h.a,{children:x&&x.map((function(e){return Object(p.jsxs)(O.a,{xs:12,md:6,lg:3,children:[Object(p.jsxs)(v.a,{bg:"dark",border:"light",text:"light",children:[Object(p.jsx)(v.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(p.jsxs)(v.a.Body,{children:[Object(p.jsx)(v.a.Title,{children:e.Title}),Object(p.jsx)(m.a,{variant:"info",onClick:function(){return j(e.imdbID)},children:"Movie Details"}),Object(p.jsx)(m.a,{variant:"primary",onClick:function(){return y(e.imdbID)},children:"Add To List"})]})]}),l&&l===e.imdbID&&Object(p.jsx)(w,{show:!!l,children:Object(p.jsx)(V,{id:e.imdbID}),handleClose:I})]},e.imdbID)}))})]})},J=F=Object(a.b)(null,{addMovieToList:function(e){return{type:"ADD_MOVIE_TO_LIST",payload:e}}})(F),P=n(29),H=n(76),G=function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var r=t(n);return console.log("next state",e.getState()),console.groupEnd(),r}}},q=function(e){return function(t,n,r){return e((function(e,n){var r,c=performance.now(),a=t(e,n),i=performance.now(),s=(r=i-c,Math.round(100*r)/100);return console.log("reducer process time:",s),a}),n,r)}},W=n(77),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_LIST":var n=localStorage.getItem("movieList");return console.log(t.payload),n?JSON.parse(n):e;case"ADD_MOVIE_TO_LIST":var r=localStorage.getItem("movieList");return r?(r=JSON.parse(r)).list.push(t.payload):r={list:[t.payload]},localStorage.setItem("movieList",JSON.stringify(r)),r;case"REMOVE_MOVIE_FROM_LIST":var c=localStorage.getItem("movieList"),a=(c=JSON.parse(c)).list.filter((function(e){return e.imdbID!==t.payload.imdbID}));return a.length?(c.list=a,localStorage.setItem("movieList",JSON.stringify(c))):(c=null,localStorage.removeItem("movieList")),c;default:return e}},K=Object(P.combineReducers)({movieListReducer:z});var Q=n(39),U=n(51),X=function(){return Object(p.jsx)(Q.a,{bg:"dark",variant:"dark",children:Object(p.jsxs)(b.a,{children:[Object(p.jsx)(Q.a.Brand,{as:i.b,to:"/",children:"Movie Database"}),Object(p.jsx)(Q.a.Toggle,{}),Object(p.jsx)(Q.a.Collapse,{}),Object(p.jsxs)(U.a,{children:[Object(p.jsx)(U.a.Link,{as:i.b,to:"/",children:"Home"}),Object(p.jsx)(U.a.Link,{as:i.b,to:"/usermovielist",children:"Movie List"})]})]})})};l.a.render(Object(p.jsx)(u.a.StrictMode,{children:Object(p.jsx)(a.a,{store:function(e){var t=[G,H.a],n=[P.applyMiddleware.apply(void 0,t),q];return Object(P.createStore)(K,e,W.composeWithDevTools.apply(void 0,n))}(),children:Object(p.jsxs)(i.a,{children:[Object(p.jsx)(X,{}),Object(p.jsxs)(s.d,{children:[Object(p.jsx)(s.b,{exact:!0,path:"/",component:J}),Object(p.jsx)(s.b,{path:"/usermovielist",component:y}),Object(p.jsx)(s.b,{path:"**",render:function(){return Object(p.jsx)(s.a,{to:"/"})}})]})]})})}),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.b48e1bf3.chunk.js.map