(this["webpackJsonpredux-example"]=this["webpackJsonpredux-example"]||[]).push([[0],{91:function(e,t,r){"use strict";r.r(t);var n=r(21),c=r(22),a=r(6),o=r(14),i=r.n(o),s=r(0),l=r.n(s),u=r(19),j=r(26),d=r(27),b=r(12),p=r(20),O=r(3),h=function(e){var t=e.movieList,r=e.getMovieList,n=e.removeMovieFromList;return Object(s.useEffect)((function(){r()}),[r]),Object(O.jsxs)(u.a,{children:[Object(O.jsx)("h1",{children:"My Movie List"}),Object(O.jsx)(j.a,{children:t&&t.list&&t.list.map((function(e){return Object(O.jsx)(d.a,{xs:12,md:6,lg:3,children:Object(O.jsxs)(b.a,{bg:"dark",border:"dark",text:"light",children:[Object(O.jsx)(b.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(O.jsxs)(b.a.Body,{children:[Object(O.jsx)(b.a.Title,{children:e.Title}),Object(O.jsx)(p.a,{variant:"primary",onClick:function(){return n(e)},children:"Remove From List"})]})]})},e.imdbID)}))})]})},v=h=Object(n.b)((function(e){return{movieList:e.movieListReducer}}),{getMovieList:function(){return{type:"GET_MOVIE_LIST"}},removeMovieFromList:function(e){return{type:"REMOVE_MOVIE_FROM_LIST",payload:e}}})(h),m=(r(64),r(24)),f=r.n(m),x=r(37),g=r(30),y=r(50),I=r(51),L=r(38),S=r.n(L),M="b1114fdf",T=function(){function e(){Object(y.a)(this,e)}return Object(I.a)(e,[{key:"getMoviesByTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return S.a.get("https://www.omdbapi.com/?s=".concat(e,"&page=").concat(t,"&apikey=").concat(M)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}},{key:"getMovieById",value:function(e){return S.a.get("https://www.omdbapi.com/?i=".concat(e,"&apikey=").concat(M)).then((function(e){return e.data})).catch((function(e){return console.error(e)}))}}]),e}(),k=function(e){var t=e.onSearch,r=Object(s.useState)(),n=Object(g.a)(r,2),c=n[0],a=n[1];return Object(O.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(c)},children:Object(O.jsxs)("div",{className:"form-group",children:[Object(O.jsx)("label",{htmlFor:"title",children:"Welcome!"}),Object(O.jsx)("input",{type:"text",placeholder:"Search for a movie!",onChange:function(e){return a(e.target.value)}}),Object(O.jsx)(p.a,{type:"submit",children:"Search"})]})})},w=function(e){var t=e.addMovieToList,r=new T,n=Object(s.useState)(),c=Object(g.a)(n,2),a=c[0],o=c[1],i=function(){var e=Object(x.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMoviesByTitle(t);case 2:n=e.sent,o(n.Search);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(x.a)(f.a.mark((function e(n){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.getMovieById(n);case 2:c=e.sent,t(c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(u.a,{children:[Object(O.jsx)(k,{onSearch:i}),Object(O.jsx)(j.a,{children:a&&a.map((function(e){return Object(O.jsx)(d.a,{xs:12,md:6,lg:3,children:Object(O.jsxs)(b.a,{bg:"dark",border:"dark",text:"light",children:[Object(O.jsx)(b.a.Img,{variant:"top",src:e.Poster,alt:"".concat(e.Title," poster")}),Object(O.jsxs)(b.a.Body,{children:[Object(O.jsx)(b.a.Title,{children:e.Title}),Object(O.jsx)(p.a,{variant:"primary",onClick:function(){return l(e.imdbID)},children:"Add To List"})]})]})},e.imdbID)}))})]})},_=w=Object(n.b)(null,{addMovieToList:function(e){return{type:"ADD_MOVIE_TO_LIST",payload:e}}})(w),E=r(18),D=r(52),B=function(e){return function(t){return function(r){console.group(r.type),console.info("dispatching",r);var n=t(r);return console.log("next state",e.getState()),console.groupEnd(),n}}},R=function(e){return function(t,r,n){return e((function(e,r){var n,c=performance.now(),a=t(e,r),o=performance.now(),i=(n=o-c,Math.round(100*n)/100);return console.log("reducer process time:",i),a}),r,n)}},V=r(53),J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_MOVIE_LIST":var r=localStorage.getItem("movieList");return r?JSON.parse(r):e;case"ADD_MOVIE_TO_LIST":var n=localStorage.getItem("movieList");return n?(n=JSON.parse(n)).list.push(t.payload):n={list:[t.payload]},localStorage.setItem("movieList",JSON.stringify(n)),n;case"REMOVE_MOVIE_FROM_LIST":var c=localStorage.getItem("movieList"),a=(c=JSON.parse(c)).list.filter((function(e){return e.imdbID!==t.payload.imdbID}));return a.length?(c.list=a,localStorage.setItem("movieList",JSON.stringify(c))):localStorage.removeItem("movieList"),c;default:return e}},F=Object(E.combineReducers)({movieListReducer:J});var N=r(25),C=r(33),A=function(){return Object(O.jsx)(N.a,{bg:"dark",variant:"dark",children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(N.a.Brand,{as:c.b,to:"/",children:"Movie Database"}),Object(O.jsx)(N.a.Toggle,{}),Object(O.jsx)(N.a.Collapse,{}),Object(O.jsxs)(C.a,{children:[Object(O.jsx)(C.a.Link,{as:c.b,to:"/",children:"Home"}),Object(O.jsx)(C.a.Link,{as:c.b,to:"/usermovielist",children:"Movie List"})]})]})})};i.a.render(Object(O.jsx)(l.a.StrictMode,{children:Object(O.jsx)(n.a,{store:function(e){var t=[B,D.a],r=[E.applyMiddleware.apply(void 0,t),R];return Object(E.createStore)(F,e,V.composeWithDevTools.apply(void 0,r))}(),children:Object(O.jsxs)(c.a,{children:[Object(O.jsx)(A,{}),Object(O.jsxs)(a.d,{children:[Object(O.jsx)(a.b,{exact:!0,path:"/",component:_}),Object(O.jsx)(a.b,{path:"/usermovielist",component:v}),Object(O.jsx)(a.b,{path:"**",render:function(){return Object(O.jsx)(a.a,{to:"/"})}})]})]})})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.029c00e6.chunk.js.map